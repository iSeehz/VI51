/**
 * 
 */
package fr.utbm.vi51.^agent

import fr.utbm.vi51.^event.AreYouAwoken
import fr.utbm.vi51.^event.IamAwoken
import fr.utbm.vi51.^event.StopSimulation
import io.sarl.core.DefaultContextInteractions
import io.sarl.core.Initialize
import io.sarl.core.InnerContextAccess
import io.sarl.core.Lifecycle
import io.sarl.core.Logging
import io.sarl.util.Scopes

/**
 * @author tiboty
 *
 */
agent LemmingAgent {
	uses DefaultContextInteractions, Logging, Lifecycle, InnerContextAccess
	var presentation:Boolean
	
	on Initialize{
		
		presentation = false
		wake(new AreYouAwoken)
	}
	
	on AreYouAwoken[!presentation]{
		
		emit(new IamAwoken, Scopes::addresses(occurrence.source))
	}
	
	
	on StopSimulation {
		
		killMe
	}
}